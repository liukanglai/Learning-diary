# scanf 

- 只要有一个没有匹配上，scanf停止
- 输入空白符（“ ” “\t”）相当于没有输入
- 在百分号(%)与格式码之间添加一个整数可以限制读入的最大字符数，超出字符串的部份将留在缓冲区等待下次读取


其中控制串由三部分组成:

格式说明符：前缀为%,用于告诉方法下次要读入何种数据类型的数据,并顺次放到方法后的变量中.

空白符:：由空格(" ")、制表符("\t")和新行符("\n")表示,让方法在输入流中忽略一个或多个空白符（只要存在一个就可以忽略多个）。控制串中的空白符使 scanf() 在输入流中读，但不保存结果，直到发现非空白字符为止。

非空白符：除去格式说明符和空白符以外的其他字符，如逗号，分号，于空白符相同，scanf()在输入流中读，但不保存结果。


1. %d

- scanf("%*d"); 读入一个字符，但不存储，更好的跳过. (vs getchar)

2. %c

- scanf("%c") vs scanf(" %c"): 如果无空格，c读入输入流中的一个数据，而若有空格，是跳过所有的空白符（“ ”，\t,\n...）。。。

3. %s

- scanf("%s",str);  meet " " or other will stop!!!


scanf("%s %s",stra,strb);
scanf("%s%s",stra,strb);
要注意%s虽然是读入字符串，但它也会忽略空白符，两行scanf()方法是等价的，因为%s本身就有忽略空白符的功能。
但空白符仍留在缓冲区。

- 会加一个'\0'


4. %[]

- 是扫描满足集合条件是所有字符直到碰到第一个不满足的，以字符串形式返回（和%s相同）

- 扫描字符集合其实有点像简化的正则表达式，实际上是对单个字符的条件界定，比如，匹配全部字母是%[a-zA-Z]，匹配全部数字是%[0-9]，支持取反操作，括号内添加^，如要匹配非数字，为%[^0-9]；要读取一整行：

char k[80];
scanf("%[^\n]",k);

# getchar


# getch

# gets??? getline(c++)

- 读入一整行，%[^\n]
- can't use in c11 由于gets()不检查字符串string的大小，必须遇到换行符或文件结尾才会结束输入，因此容易造成缓存溢出的安全性问题，导致程序崩溃，可以使用fgets()代替。

# fgets

是对gets()方法的扩展，gets()是从标准输入流中读取，而fgets()是从文件输入流中读取，但是文件输入流并不局限于普通的文件，只要是流都可以用来输入，使用方法：

char str[80];
fgets(str,79,stdin);
方法与gets()相比，多添加了两个参数，第二个参数限定要读取的最大长度，最终读取的长度不超过还未读取的剩余行长度；第三个参数说明从哪个流读取输入，通过定义stdin，我们就可以定义从标准输入中读取。

注意：fgets()方法接受到行尾时会接收换行符！，这一点非常特殊，一定要注意。


c scanf/fscanf 的%n和%[]使用方法
2018-01-04 02:51:00
http://blog.csdn.net/wesweeky/article/details/6439777

一、
%n说明符输出有效字符数量，%n在scanf和printf中都可使用。与%n相对应的形参是一个int类型的指针，%n不影响scanf和printf的返回值。例如：

1
scanf("%d %d%n", &i, &j, &k);
如果输入434 6434，则k等于8，而scanf的返回值仍然为2。又如：

1
scanf("%c%n", &ch, &k);
输入“sbcdefdg”后，k等于1，而不是8，因为%c只取一个字符，%n输出的是有效字符数量。

%n用在printf函数里，表示输出的字符数量，例如：

1
printf("i=%d, j=%d/n%n", i, j, &k);
在i=343、j=123的情况下，k=12，同时%n不影响printf的返回值，其返回值仍然为12，而不是14。

二、
众所周之，scanf以空白字符为定界符，但如果输入的字符串是以其它字符为定界符的，那怎么办？[]就是专门处理这个问题的转换说明符。[]转换说明符可以通过两种方式产生结果字符集，如果第一个[字符右边没有抑扬符（^），那么处于[]之间的字符就是结果字符集，不在其中的可输入字符都作为定界符；如果左边[符号紧靠一个抑扬符（^），那么意义相反，^和]之间的字符是定界符，其余可输入字符是结果字符集。

在使用[]说明符之前，得先明白两个概念：一是扫描列表。扫描列表（scanlist）指的是包含在[和]两个字符之间除紧靠左边[字符的抑扬符之外的字符，例如：

1
scanf("%[abcd]", ptr);
abcd组成扫描列表。二是扫描字符集（scanset）。扫描字符集指的是结果字符集，例如上面的例子，结果字符集就是abcd。如果输入一个字符串“cbadkjf”，那么ptr得到的字符串是cbad，kjf三个字符都属于定界符，输入到k字符时输入字符串被截断，kjf三个字符被留在stdin里面。如果带有抑扬符，例如：

1
scanf("%[^abcd]", ptr);
扫描列表仍然是abcd，但扫描字符集是除abcd外的可输入字符。如果输入字符串“jksferakjjdf”，ptr得到的字符串是“jksfer”。如果想限制输入字符串的字符数量，可以象s说明符那样，在[]前面使用位域，例如：

1
scanf("%10[^abcd]", ptr);
这样结果字符串最多只能包含10个字符（除'/0'字符外）。

[符号可以作为扫描列表中的一个成员，但]字符除紧贴最左边的[字符或抑扬符两种情况外，其余情况下都不会被看作扫描列表的成员。例如“%[]abcd]”或者“%[^]abcd]”，上述两种情况下]字符属于扫描列表的成员，但如果是“%[ab]cd]”，中间的]字符不会被看作扫描列表的成员，而且输入输出的结果会是乱七八糟的。

对于减号-，只有在紧贴[字符或抑扬字符以及作为扫描列表最后一个成员时，-字符才会被视为扫描列表的成员。c标准把其余情况规定为编译器相关的。大多数编译器把这种情况的减号定义为连字符，例如：

1
scanf("%[a-zA-Z]", ptr);
那么扫描列表由大小写各26个字母组成。少数编译器仍旧把这种情况下的减号视为扫描列表成员。

1
fscanf(fd,"%*[^/n]/n"); // %*是虚读，没有存，只是让指针跳过了这个变量！

