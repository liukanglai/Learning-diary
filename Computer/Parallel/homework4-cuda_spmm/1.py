import numpy as np
import matplotlib
import matplotlib.pyplot as plt

farmers = ["100", "200", "300", "400", "500", "600", "700", "800", "900", "1000", "1100", "1200", "1300", "1400", "1500", "1600", "1700", "1800", "1900", "2000"]
vegetables = ["16", "32", "64"]

'''
harvest = np.array([[0.8, 2.4, 2.5, 3.9, 0.0, 4.0, 0.0],
                    [2.4, 0.0, 4.0, 1.0, 2.7, 0.0, 0.0],
                    [1.1, 2.4, 0.8, 4.3, 1.9, 4.4, 0.0],
                    [0.6, 0.0, 0.3, 0.0, 3.1, 0.0, 0.0],
                    [0.7, 1.7, 0.6, 2.6, 2.2, 6.2, 0.0],
                    [1.3, 1.2, 0.0, 0.0, 0.0, 3.2, 5.1],
                    [0.1, 2.0, 0.0, 1.4, 0.0, 1.9, 6.3]])
'''

harvest = np.array([[0.00224, 0.00893, 0.01994, 0.03673, 0.05159, 0.08035, 0.08753, 0.10628, 0.13136, 0.16462, 0.19861, 0.23799, 0.30179, 0.33589, 0.39248, 0.43842, 0.50213, 0.57545, 0.66707, 0.85283],
#0.14273, 0.14332, 0.14446, 0.13939, 0.15506, 0.14337, 0.17914, 0.19271, 0.19732, 0.19439, 0.19496, 0.19362, 0.17920, 0.18673, 0.18345, 0.18685, 0.18418, 0.18017, 0.17317, 0.15009 
[0.00504, 0.02004, 0.04578, 0.08037, 0.08731, 0.14333, 0.17453, 0.24616, 0.31204, 0.35590, 0.45129, 0.56933, 0.76516, 0.89728, 1.10283, 1.19134, 1.34280, 1.70434, 1.85700, 1.93911],
#0.12711, 0.12776, 0.12581, 0.12741, 0.18325, 0.16075, 0.17968, 0.16640, 0.16613, 0.17983, 0.17160, 0.16188, 0.14136, 0.13980, 0.13057, 0.13753, 0.13774, 0.12167, 0.12442, 0.13202 
[0.01056, 0.04147, 0.07072, 0.13466, 0.19457, 0.30878, 0.43072, 0.59574, 0.79760, 0.97855, 1.20508, 1.45900, 1.72403, 2.06175, 2.40824, 2.67166, 3.10690, 3.63395, 3.81517, 4.31107]])
#0.12124, 0.12345, 0.16291, 0.15209, 0.16446, 0.14923, 0.14562, 0.13751, 0.12999, 0.13081, 0.12852, 0.12633, 0.12547, 0.12168, 0.11959, 0.12265, 0.11906, 0.11412, 0.12112, 0.11876 

harvest1 = np.array([[0.00051, 0.00035, 0.00103, 0.00179, 0.00244, 0.00330, 0.00683, 0.00784, 0.00930, 0.01136, 0.01439, 0.01581, 0.02410, 0.02407, 0.02752, 0.03318, 0.04221, 0.04522, 0.05049, 0.04758],
#0.62378, 3.61582, 2.79340, 2.86034, 3.27466, 3.49197, 2.29676, 2.61091, 2.78680, 2.81740, 2.69132, 2.91369, 2.24398, 2.60541, 2.61618, 2.46859, 2.19111, 2.29264, 2.28784, 2.69038 
[0.00019, 0.00047, 0.00113, 0.00376, 0.01417, 0.01926, 0.00648, 0.01116, 0.01132, 0.01404, 0.01696, 0.02124, 0.02630, 0.03596, 0.03350, 0.04154, 0.05751, 0.06004, 0.06160, 0.07931],
#3.33333, 5.49356, 5.07489, 2.72340, 1.12891, 1.19645, 4.83727, 3.66861, 4.58112, 4.55808, 4.56577, 4.33817, 4.11255, 3.48793, 4.29902, 3.94406, 3.21608, 3.45347, 3.75053, 3.22800 
[0.00026, 0.00170, 0.00153, 0.00288, 0.00399, 0.00604, 0.00759, 0.01134, 0.01575, 0.01973, 0.02070, 0.02747, 0.03315, 0.03889, 0.10491, 0.05440, 0.06489, 0.06881, 0.07900, 0.08732]]) 
#5.00000, 3.01354, 7.54420, 7.10371, 8.01603, 7.62914, 8.26786, 7.22462, 6.58328, 6.48594, 7.48357, 6.71035, 6.52647, 6.45118, 2.74516, 6.02408, 5.70055, 6.02703, 5.84882, 5.86362 

harvest2 = np.array([[0.00020, 0.00046, 0.00101, 0.00194, 0.00284, 0.00384, 0.00483, 0.00680, 0.00867, 0.01032, 0.01175, 0.01480, 0.01752, 0.01942, 0.02172, 0.02606, 0.02927, 0.03157, 0.03410, 0.03947],
#1.61616, 2.77056, 2.85714, 2.64463, 2.82087, 3.00000, 3.24570, 3.01221, 2.98824, 3.09957, 3.29616, 3.11309, 3.08623, 3.22999, 3.31507, 3.14327, 3.15966, 3.28382, 3.38748, 3.24330 
[0.00027, 0.00091, 0.00188, 0.00331, 0.00497, 0.00710, 0.00928, 0.01237, 0.01507, 0.01894, 0.02234, 0.02724, 0.03089, 0.03672, 0.04107, 0.04765, 0.05262, 0.05987, 0.06583, 0.07331],
#2.39700, 2.81319, 3.06383, 3.09740, 3.21867, 3.24416, 3.37858, 3.31231, 3.44109, 3.37963, 3.46581, 3.38326, 3.50100, 3.41612, 3.50655, 3.43812, 3.51508, 3.46379, 3.50981, 3.49202 
[0.00049, 0.00167, 0.00360, 0.00624, 0.00968, 0.01382, 0.01873, 0.02417, 0.03050, 0.03743, 0.04475, 0.05274, 0.06192, 0.07134, 0.07908, 0.09100, 0.09924, 0.11083, 0.12192, 0.13411]])
#2.58586, 3.07323, 3.19556, 3.27995, 3.30647, 3.33502, 3.34810, 3.38919, 3.39979, 3.41944, 3.46101, 3.49468, 3.49360, 3.51668, 3.64207, 3.60100, 3.72764, 3.74205, 3.78993, 3.81768 

harvest3 = np.array([[0.00030, 0.00075, 0.00147, 0.00253, 0.00376, 0.00531, 0.00706, 0.00933, 0.01178, 0.01432, 0.01665, 0.02040, 0.02409, 0.02770, 0.03150, 0.03565, 0.03972, 0.04380, 0.04666, 0.05182],
#1.08475, 1.70895, 1.95918, 2.02292, 2.12653, 2.16908, 2.22191, 2.19507, 2.19978, 2.23417, 2.32553, 2.25860, 2.24473, 2.26459, 2.28579, 2.29815, 2.32812, 2.36712, 2.47557, 2.46995 
[0.00044, 0.00134, 0.00265, 0.00460, 0.00744, 0.01047, 0.01384, 0.01794, 0.02284, 0.02816, 0.03358, 0.04063, 0.04723, 0.05442, 0.05840, 0.06800, 0.07729, 0.08116, 0.08964, 0.09991],
#1.43820, 1.91617, 2.17358, 2.22802, 2.15025, 2.19973, 2.26655, 2.28368, 2.27000, 2.27305, 2.30579, 2.26850, 2.29022, 2.30508, 2.46584, 2.40934, 2.39300, 2.55498, 2.57736, 2.56233 
[0.00081, 0.00253, 0.00524, 0.00899, 0.01456, 0.02062, 0.02728, 0.03517, 0.04575, 0.05536, 0.06352, 0.07565, 0.08550, 0.09771, 0.10997, 0.12384, 0.13908, 0.15408, 0.17012, 0.18775]])
#1.58612, 2.02692, 2.19973, 2.27682, 2.19780, 2.23451, 2.29937, 2.32939, 2.26648, 2.31206, 2.43813, 2.43639, 2.53018, 2.56757, 2.61892, 2.64608, 2.65980, 2.69164, 2.71622, 2.72707 

harvest4 = np.array([[0.00027, 0.00073, 0.00140, 0.00236, 0.00327, 0.00487, 0.00616, 0.00793, 0.00957, 0.01215, 0.01403, 0.01710, 0.01746, 0.02092, 0.02293, 0.02719, 0.02973, 0.03404, 0.03674, 0.04182],
#1.19403, 1.76066, 2.05567, 2.16490, 2.44873, 2.36356, 2.54545, 2.58195, 2.70903, 2.63461, 2.75921, 2.69458, 3.09754, 2.99766, 3.14013, 3.01287, 3.11098, 3.04574, 3.14383, 3.06088 
[0.00048, 0.00109, 0.00240, 0.00395, 0.00599, 0.01793, 0.02080, 0.03544, 0.03747, 0.04408, 0.05302, 0.06334, 0.06884, 0.04148, 0.04782, 0.05275, 0.06083, 0.06462, 0.07172, 0.07950],
#1.32780, 2.34218, 2.40000, 2.59569, 2.67112, 1.28500, 1.50762, 1.15585, 1.38365, 1.45204, 1.46064, 1.45491, 1.57123, 3.02418, 3.01142, 3.10603, 3.04055, 3.20872, 3.22124, 3.22009 
[0.00068, 0.00208, 0.00467, 0.00752, 0.01173, 0.01748, 0.01879, 0.02685, 0.03715, 0.04231, 0.05541, 0.06334, 0.06573, 0.07055, 0.07578, 0.10074, 0.11364, 0.12912, 0.14128, 0.15082]])
#1.87683, 2.46272, 2.46787, 2.72232, 2.72851, 2.63646, 3.33724, 3.05080, 2.79100, 3.02536, 2.79506, 2.91001, 3.29114, 3.55616, 3.80068, 3.25273, 3.25534, 3.21202, 3.27060, 3.39489 

harvest5 = np.array([[0.00001, 0.00002, 0.00006, 0.00010, 0.00016, 0.00024, 0.00031, 0.00041, 0.00053, 0.00065, 0.00076, 0.00099, 0.00125, 0.00136, 0.00153, 0.00177, 0.00203, 0.00227, 0.00281, 0.00304],
#4.82743, 5.27862, 5.25136, 5.24637, 5.13852, 4.98840, 5.00653, 4.86755, 5.01592, 5.02528, 5.02012, 4.77520, 4.41237, 4.71565, 4.74296, 4.68431, 4.58245, 4.55405, 4.13064, 4.27973 
[0.00001, 0.00004, 0.00010, 0.00019, 0.00031, 0.00041, 0.00053, 0.00071, 0.00096, 0.00116, 0.00142, 0.00178, 0.00208, 0.00242, 0.00290, 0.00322, 0.00385, 0.00432, 0.00494, 0.00563],
#5.49463, 5.55392, 5.66082, 5.57904, 5.26129, 5.70723, 5.74080, 5.66611, 5.53221, 5.60476, 5.33954, 5.32389, 5.27628, 5.29332, 4.99493, 5.15399, 4.82766, 4.79585, 4.69514, 4.62594 
[0.00003, 0.00010, 0.00023, 0.00044, 0.00066, 0.00101, 0.00124, 0.00176, 0.00231, 0.00263, 0.00329, 0.00414, 0.00452, 0.00540, 0.00637, 0.00668, 0.00757, 0.00883, 0.00951, 0.01150]])
#4.91520, 4.92813, 5.05483, 4.84171, 5.02440, 4.65860, 4.93669, 4.56859, 4.58499, 4.95485, 4.61991, 4.56807, 4.86452, 4.74964, 4.54333, 4.97228, 4.90941, 4.68774, 4.88126, 4.52870 

harvest6 = np.array([[0.00001, 0.00002, 0.00005, 0.00010, 0.00016, 0.00023, 0.00030, 0.00041, 0.00053, 0.00066, 0.00076, 0.00096, 0.00127, 0.00138, 0.00155, 0.00175, 0.00205, 0.00218, 0.00257, 0.00322],
#4.82743, 5.14555, 5.32844, 5.22594, 5.20000, 5.16297, 5.03618, 4.94181, 5.00267, 4.96409, 5.00490, 4.93888, 4.33851, 4.62745, 4.66197, 4.75401, 4.52774, 4.74354, 4.51152, 4.04728 
[0.00001, 0.00004, 0.00010, 0.00021, 0.00031, 0.00042, 0.00057, 0.00072, 0.00093, 0.00119, 0.00135, 0.00169, 0.00210, 0.00241, 0.00312, 0.00323, 0.00410, 0.00459, 0.00522, 0.00579],
#5.49463, 5.69600, 5.76190, 5.17305, 5.25293, 5.64311, 5.35794, 5.60992, 5.68883, 5.48320, 5.61635, 5.58763, 5.23531, 5.31572, 4.63242, 5.14028, 4.53659, 4.51236, 4.44363, 4.49760 
[0.00003, 0.00010, 0.00024, 0.00046, 0.00066, 0.00104, 0.00123, 0.00180, 0.00234, 0.00264, 0.00333, 0.00419, 0.00455, 0.00555, 0.00644, 0.00665, 0.00744, 0.00903, 0.00932, 0.01157]])
#4.77625, 5.02416, 4.93458, 4.65283, 5.03819, 4.55653, 4.96632, 4.46276, 4.52901, 4.93293, 4.56067, 4.51300, 4.83382, 4.61995, 4.49541, 4.99538, 4.99290, 4.58522, 4.98184, 4.50164 

harvest7 = np.array([[0.00004, 0.00013, 0.00028, 0.00051, 0.00077, 0.00119, 0.00154, 0.00200, 0.00262, 0.00320, 0.00372, 0.00443, 0.00499, 0.00581, 0.00656, 0.00734, 0.00840, 0.00937, 0.01040, 0.01155],
#0.78586, 0.97503, 1.02979, 1.05880, 1.06646, 0.99541, 0.99648, 1.00609, 1.01415, 1.01903, 1.01977, 1.06624, 1.10088, 1.10342, 1.10340, 1.13141, 1.10654, 1.10420, 1.11574, 1.12677 
[0.00008, 0.00024, 0.00055, 0.00100, 0.00154, 0.00235, 0.00306, 0.00398, 0.00488, 0.00597, 0.00690, 0.00832, 0.00961, 0.01122, 0.01290, 0.01472, 0.01621, 0.01817, 0.02038, 0.02285],
#0.86646, 1.00918, 1.05065, 1.06988, 1.07158, 1.00298, 1.00078, 1.00981, 1.08663, 1.09214, 1.10136, 1.13545, 1.14335, 1.14246, 1.12160, 1.12839, 1.14676, 1.13945, 1.13900, 1.13932 
[0.00015, 0.00048, 0.00110, 0.00200, 0.00307, 0.00461, 0.00569, 0.00739, 0.00961, 0.01153, 0.01366, 0.01666, 0.01933, 0.02254, 0.02542, 0.02916, 0.03261, 0.03638, 0.04076, 0.04569]])
#0.89634, 1.02674, 1.05629, 1.07266, 1.07426, 1.02408, 1.07554, 1.08633, 1.10354, 1.13166, 1.11196, 1.13478, 1.13710, 1.13727, 1.13854, 1.13940, 1.13978, 1.13810, 1.13889, 1.13974 

harvest8 = np.array([[0.00001, 0.00003, 0.00005, 0.00009, 0.00013, 0.00022, 0.00026, 0.00034, 0.00047, 0.00057, 0.00063, 0.00075, 0.00091, 0.00103, 0.00109, 0.00125, 0.00153, 0.00166, 0.00176, 0.00200], 
#2.81600, 4.67420, 5.57390, 6.02361, 6.24629, 5.34536, 5.90925, 5.91388, 5.58521, 5.71976, 6.02159, 6.32412, 6.04081, 6.21301, 6.64851, 6.63156, 6.07141, 6.23764, 6.59250, 6.52503 
[0.00002, 0.00004, 0.00009, 0.00016, 0.00025, 0.00039, 0.00050, 0.00067, 0.00082, 0.00104, 0.00113, 0.00141, 0.00164, 0.00194, 0.00216, 0.00251, 0.00279, 0.00319, 0.00352, 0.00397], 
#3.81831, 5.46714, 6.23176, 6.74675, 6.55625, 6.00792, 6.07701, 5.98436, 6.46694, 6.24432, 6.74641, 6.70404, 6.71439, 6.59337, 6.71111, 6.62838, 6.67286, 6.49640, 6.60056, 6.56567 
[0.00003, 0.00008, 0.00018, 0.00032, 0.00051, 0.00074, 0.00092, 0.00121, 0.00155, 0.00191, 0.00224, 0.00277, 0.00325, 0.00380, 0.00429, 0.00494, 0.00555, 0.00623, 0.00695, 0.00786]]) 
#4.62904, 5.81777, 6.62635, 6.60966, 6.52775, 6.35315, 6.63342, 6.61567, 6.83040, 6.81946, 6.79287, 6.83494, 6.75816, 6.74164, 6.73846, 6.72974, 6.69485, 6.64849, 6.67564, 6.62801 

harvest9 = np.array([[0.00001, 0.00002, 0.00004, 0.00005, 0.00008, 0.00011, 0.00013, 0.00021, 0.00032, 0.00039, 0.00037, 0.00046, 0.00048, 0.00053, 0.00059, 0.00064, 0.00070, 0.00077, 0.00084, 0.00091],
#2.48471, 4.97821, 7.42711, 10.10742, 10.89393, 11.24053, 11.57713, 9.78252, 8.28104, 8.27769, 10.21306, 10.16785, 11.34569, 11.99120, 12.34205, 12.93071, 13.24065, 13.52235, 13.86386, 14.27578 
[0.00002, 0.00004, 0.00007, 0.00010, 0.00015, 0.00018, 0.00025, 0.00033, 0.00057, 0.00065, 0.00072, 0.00083, 0.00093, 0.00103, 0.00114, 0.00127, 0.00142, 0.00164, 0.00189, 0.00221], 
#3.14344, 5.90188, 8.15730, 10.93084, 11.36628, 13.25386, 12.47857, 12.22741, 9.23704, 10.04283, 10.52298, 11.33473, 11.75467, 12.39237, 12.72296, 13.09068, 13.07300, 12.63825, 12.25689, 11.77627
[0.00004, 0.00008, 0.00013, 0.00020, 0.00028, 0.00032, 0.00041, 0.00066, 0.00114, 0.00137, 0.00164, 0.00222, 0.00294, 0.00355, 0.00431, 0.00526, 0.00619, 0.00721, 0.00853, 0.00980]])
#3.59489, 6.45397, 8.74041, 10.88649, 11.80500, 14.65701, 15.04912, 12.21068, 9.26932, 9.50432, 9.27621, 8.52802, 7.47149, 7.22405, 6.72140, 6.31699, 6.00229, 5.73944, 5.44269, 5.31345

fig, ax = plt.subplots()
im = ax.imshow(harvest7)

# We want to show all ticks...
ax.set_xticks(np.arange(len(farmers)))
ax.set_yticks(np.arange(len(vegetables)))
# ... and label them with the respective list entries
ax.set_xticklabels(farmers)
ax.set_yticklabels(vegetables)

# Rotate the tick labels and set their alignment.
plt.setp(ax.get_xticklabels(), rotation=45, ha="right",
         rotation_mode="anchor")

# Loop over data dimensions and create text annotations.
for i in range(len(vegetables)):
    for j in range(len(farmers)):
        text = ax.text(j, i, harvest7[i, j], ha="center", va="center", color="w")

#ax.set_title("GEMM_OpenMP (in used/s)")
#ax.set_title("GEMM_OpenBLAS (in used/s)")
#ax.set_title("GEMM_CUDA_global_memory (in used/s)")
#ax.set_title("GEMM_CUDA_shared_memory (in used/s)")
#ax.set_title("GEMM_cuBLAS (in used/s)")
#ax.set_title("csrSpMM_serial (in used/s)")
#ax.set_title("csrSpMM_OpenMP (in used/s)")
ax.set_title("csrSpMM_CUDA_scalar (in used/s)")
#ax.set_title("csrSpMM_CUDA_vector (in used/s)")
#ax.set_title("csrSpMM_cuSPARSE (in used/s)")
fig.tight_layout()
plt.show()
